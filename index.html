<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard Admin</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts: Plus Jakarta Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #1a1a2e;
            color: #e2e8f0;
        }
        .card {
            background-color: #2a2a4a;
            border: 1px solid #4a4a6e;
            color: #e2e8f0; /* All text in the card is white */
        }
        .card-header, .navbar {
            background-color: #2a2a4a;
            border-bottom: 1px solid #4a4a6e;
        }
        .form-control {
            background-color: #1a1a2e;
            color: #e2e8f0;
            border-color: #4a4a6e;
        }
        .form-control:focus {
            background-color: #1a1a2e;
            color: #e2e8f0;
            border-color: #6a6a8e;
            box-shadow: 0 0 0 0.25rem rgba(106, 106, 142, 0.25);
        }
        .btn-primary {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        .btn-primary:hover {
            background-color: #2563eb;
            border-color: #2563eb;
        }
        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }
        .btn-danger:hover {
            background-color: #c82333;
            border-color: #c82333;
        }
        .text-white {
            color: #ffffff !important;
        }
    </style>
</head>
<body class="bg-dark text-white p-4">
    <div class="container-fluid">
        <div class="row g-4">
            
            <!-- Sidebar -->
            <aside class="col-md-3">
                <div class="card p-4 rounded-3 shadow-sm h-100">
                    <div class="d-flex align-items-center mb-4">
                        <i class="fas fa-chart-bar fa-2x text-primary me-2"></i>
                        <span class="fs-4 fw-bold">Dashboard</span>
                    </div>
                    <nav class="nav nav-pills flex-column">
                        <a href="#" id="nav-list" class="nav-link active bg-primary text-white mb-2">
                            <i class="fas fa-users me-2"></i>
                            Daftar Customer
                        </a>
                        <a href="#" id="nav-profile" class="nav-link text-white">
                            <i class="fas fa-user-circle me-2"></i>
                            Profil Admin
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="col-md-9">
                <div class="card p-4 rounded-3 shadow-sm">

                    <!-- Tampilan Daftar Customer -->
                    <div id="list-view" class="active">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 class="fs-3 fw-bold text-white">Daftar Customer</h2>
                            <button id="add-customer-button" class="btn btn-primary">
                                <i class="fas fa-plus me-2"></i>Tambah Customer
                            </button>
                        </div>
                        <div id="customer-list" class="row g-3">
                            <!-- Customer cards will be inserted here by JS -->
                        </div>
                    </div>

                    <!-- Tampilan Edit Customer -->
                    <div id="edit-view" class="d-none">
                        <div class="d-flex align-items-center mb-4">
                            <button id="back-to-list-button-edit" class="btn btn-link text-white p-0 me-2">
                                <i class="fas fa-arrow-left fa-lg"></i>
                            </button>
                            <h2 class="fs-3 fw-bold text-white">Edit Customer</h2>
                        </div>
                        
                        <form id="edit-form" class="row g-3">
                            <div class="col-12">
                                <label for="edit-name" class="form-label text-white">Nama</label>
                                <input type="text" id="edit-name" name="name" class="form-control" required>
                            </div>
                            <div class="col-12">
                                <label for="edit-email" class="form-label text-white">Email</label>
                                <input type="email" id="edit-email" name="email" class="form-control" required>
                            </div>
                            <div class="col-12">
                                <label for="edit-phone" class="form-label text-white">Telepon</label>
                                <input type="tel" id="edit-phone" name="phone" class="form-control">
                            </div>
                            <div class="col-12 d-flex justify-content-between pt-3">
                                <button type="submit" class="btn btn-primary shadow-sm">Simpan Perubahan</button>
                                <button type="button" id="delete-customer-button" class="btn btn-danger shadow-sm">Hapus Customer</button>
                            </div>
                        </form>
                    </div>

                    <!-- Tampilan Tambah Customer -->
                    <div id="add-view" class="d-none">
                        <div class="d-flex align-items-center mb-4">
                            <button id="back-to-list-button-add" class="btn btn-link text-white p-0 me-2">
                                <i class="fas fa-arrow-left fa-lg"></i>
                            </button>
                            <h2 class="fs-3 fw-bold text-white">Tambah Customer Baru</h2>
                        </div>
                        
                        <form id="add-form" class="row g-3">
                            <div class="col-12">
                                <label for="add-name" class="form-label text-white">Nama</label>
                                <input type="text" id="add-name" name="name" class="form-control" required>
                            </div>
                            <div class="col-12">
                                <label for="add-email" class="form-label text-white">Email</label>
                                <input type="email" id="add-email" name="email" class="form-control" required>
                            </div>
                            <div class="col-12">
                                <label for="add-phone" class="form-label text-white">Telepon</label>
                                <input type="tel" id="add-phone" name="phone" class="form-control">
                            </div>
                            <div class="col-12 pt-3">
                                <button type="submit" class="btn btn-primary shadow-sm">Simpan Customer</button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let customers = [
            { id: 1, name: 'Malika Shakila', email: 'malika.shakila@example.com', phone: '081234567890' },
            { id: 2, name: 'Kala Samudra', email: 'kala.samudra@example.com', phone: '085678901234' },
            { id: 3, name: 'Alaska Mada', email: 'alaska.mada@example.com', phone: '087890123456' },
            { id: 4, name: 'Sky Kohler', email: 'sky.kohler@example.com', phone: '082198765432' }
        ];

        const listView = document.getElementById('list-view');
        const editView = document.getElementById('edit-view');
        const addView = document.getElementById('add-view');
        const customerListContainer = document.getElementById('customer-list');
        const editForm = document.getElementById('edit-form');
        const addForm = document.getElementById('add-form');
        const backToEditButton = document.getElementById('back-to-list-button-edit');
        const backToAddButton = document.getElementById('back-to-list-button-add');
        const navList = document.getElementById('nav-list');
        const navProfile = document.getElementById('nav-profile');
        const addCustomerButton = document.getElementById('add-customer-button');
        const deleteCustomerButton = document.getElementById('delete-customer-button');

        let currentCustomer = null;

        function renderCustomerList() {
            customerListContainer.innerHTML = '';
            customers.forEach(customer => {
                const customerCard = `
                    <div class="col-12 col-sm-6 col-md-6 col-lg-4">
                        <div class="card p-4 rounded-3 shadow-sm h-100">
                            <div class="d-flex align-items-center mb-3">
                                <div class="me-3">
                                    <i class="fas fa-user-circle fa-2x text-primary"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="card-title fw-bold text-white">${customer.name}</h5>
                                    <p class="card-text text-white-50">${customer.email}</p>
                                </div>
                            </div>
                            <button data-id="${customer.id}" class="edit-button btn btn-primary w-100 mt-auto">
                                Edit
                            </button>
                        </div>
                    </div>
                `;
                customerListContainer.innerHTML += customerCard;
            });

            document.querySelectorAll('.edit-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const customerId = parseInt(e.target.dataset.id);
                    currentCustomer = customers.find(c => c.id === customerId);
                    if (currentCustomer) {
                        showEditView();
                    }
                });
            });
        }

        function showEditView() {
            listView.classList.add('d-none');
            editView.classList.remove('d-none');
            addView.classList.add('d-none');
            document.getElementById('edit-name').value = currentCustomer.name;
            document.getElementById('edit-email').value = currentCustomer.email;
            document.getElementById('edit-phone').value = currentCustomer.phone;
        }

        function showAddView() {
            listView.classList.add('d-none');
            editView.classList.add('d-none');
            addView.classList.remove('d-none');
            addForm.reset();
        }

        function showListView() {
            listView.classList.remove('d-none');
            editView.classList.add('d-none');
            addView.classList.add('d-none');
        }

        editForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const updatedData = {
                name: document.getElementById('edit-name').value,
                email: document.getElementById('edit-email').value,
                phone: document.getElementById('edit-phone').value,
            };
            
            Object.assign(currentCustomer, updatedData);

            alert('Data customer berhasil diperbarui!');
            showListView();
            renderCustomerList();
        });

        deleteCustomerButton.addEventListener('click', () => {
            const confirmed = confirm('Anda yakin ingin menghapus customer ini?');
            if (confirmed) {
                customers = customers.filter(c => c.id !== currentCustomer.id);
                alert('Customer berhasil dihapus!');
                showListView();
                renderCustomerList();
            }
        });

        addForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const newCustomer = {
                id: customers.length > 0 ? Math.max(...customers.map(c => c.id)) + 1 : 1,
                name: document.getElementById('add-name').value,
                email: document.getElementById('add-email').value,
                phone: document.getElementById('add-phone').value,
            };

            customers.push(newCustomer);
            alert('Customer baru berhasil ditambahkan!');
            showListView();
            renderCustomerList();
        });

        backToEditButton.addEventListener('click', showListView);
        backToAddButton.addEventListener('click', showListView);
        navList.addEventListener('click', showListView);
        addCustomerButton.addEventListener('click', showAddView);
        
        navProfile.addEventListener('click', () => {
            alert('Halaman Profil Admin belum tersedia.');
        });

        document.addEventListener('DOMContentLoaded', renderCustomerList);
    </script>
</body>
</html>
